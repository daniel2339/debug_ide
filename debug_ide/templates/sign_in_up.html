<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>log</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <link rel="stylesheet" type="text/css" href="./static/sign_system.css">
    <link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>

</head>

<body>
    <div class="container">

        <form action="" method="post">

            {% csrf_token %}

            <h1>登入</h1>
        <div class="input-box">
            <input  name="email" id="email" placeholder="Email" required>
            <!-- <i class='bx bx-user'></i> -->
        </div>
        <div class="input-box">
            <input type="password" name="password" id="password" placeholder="password" required>
            <!-- <i class='bx bxs-lock-alt'></i> -->
        </div>
            <div class="form-check">
                <input class="form-check-input" type="checkbox" value="" id="passwordSave">
                <label class="form-check-label" for="passwordSave">
                記住密碼
                </label>
        </div>
        <div class="forgot">
            <a href="#">註冊</a>
            <a href="#">忘記密碼</a>
        </div>
        <div class="login">
            <button type="submit" class="btn btn-outline-primary" onclick="savePassword()">登入</button>
        </div>
        </form>



    </div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL"
        crossorigin="anonymous"></script>
    <script src="../static/login.js" ></script>
    <script>
        document.getElementById('passwordSave').addEventListener('click',function(e){
            console.log('PasswordSaveClicked')
            console.log(e.target.checked)
        })

        function savePassword(){
            passwordSave = document.getElementById('passwordSave').checked
            sessionStorage.setItem('judgeIdePasswordSave',passwordSave)

            if(document.getElementById('passwordSave').checked){
                email = document.getElementById('email').value
                password = document.getElementById('password').value
                sessionStorage.setItem('judgeIdeEmailTemp',email)
                sessionStorage.setItem('judgeIdePasswordTemp',password)
            }
            else{
                sessionStorage.removeItem('judgeIdeEmail')
                sessionStorage.removeItem('judgeIdePassword')
            }
        }

        window.onload=function(e){
            email=sessionStorage.getItem('judgeIdeEmail')
            password = sessionStorage.getItem('judgeIdePassword')

            
            passwordSave=sessionStorage.getItem('judgeIdePasswordSave')
            if(passwordSave == 'true'){
                document.getElementById('passwordSave').checked = true
            }else{
                document.getElementById('passwordSave').checked = flase
            }


            if(email != null){
                document.getElementById('email').vale =email
            }
            if(password !=null){
                document.getElementById('password').vale =password
            }

        }
    </script>
</body>

</html>